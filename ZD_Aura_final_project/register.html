<!DOCTYPE html>
<html lang="en">
<head>
    <title>ZD Aura</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="body">
    <div class="small-screen-message">
        <p>We are working on creating a website<br> 
            work from your extension..<br>
            Sorry...</p>
    </div>
    <div class="asd">
        <audio id="background-music" loop>
            <source src="day-song.mp3" type="audio/mp3">
            <source src="night-song.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>
        <div class="header-container">  
            <header>
                <nav class="navbar navbar-expand-lg navbar-dark">
                    <a class=" nav-item logo  navbar-brand logo " href="main_page.html">ZD Aura</a>
                    <div class="collapse navbar-collapse">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-first-item ">
                                <a style="color: white;" class="nav-link  nav-list .nav-link" href="main_page.html">Main menu</a>
                            </li>
                            <li class="nav-item ">
                                <a style="color: white;" class="nav-link nav-list .nav-link" href="choosing.html">Shop</a>
                            </li>
                            <li class="nav-item ">
                                <a style="color: white;" class="nav-link nav-list .nav-link" href="about_us.html">About us</a>
                            </li>
                            <li class="nav-item">
                                <a style="color: white;" class="nav-link nav-list .nav-link" href="profile.html">Profile</a>
                            </li>
                            <li class="nav-item">
                                <a style="color: white;" class="nav-link nav-list .nav-link" href="faq.html">Help</a>
                            </li>
                            <li class="nav-item-button"></li>
                            <button id="theme-toggle-btn" class="btn btn-outline-light my-2">Switch Theme</button>
                            </li>
                            <li class="nav-item-button"></li>
                            <button id="playMusic" class="btn btn-outline-light my-2">Play Music</button>
                            </li>
                        </ul>

                        <form class="form-inline search-form my-2 my-lg-0">
                            <input class="form-control mr-sm-2" type="search" placeholder="Find" aria-label="Search">
                            <button class="btn btn-outline-light my-2 my-sm-0" type="submit">Search</button>
                        </form>
                    </div>
                </nav>
            </header>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const form = document.getElementById('multiStepForm');
                const passwordField = document.getElementById('password');
                const confirmPasswordField = document.getElementById('confirmPassword');
                const errorMessage = document.getElementById('error-message');

                // Function to validate password match
                function validatePasswordMatch() {
                    const password = passwordField.value;
                    const confirmPassword = confirmPasswordField.value;
                    if (password !== confirmPassword) {
                        errorMessage.textContent = 'Passwords do not match.';
                        errorMessage.style.color = 'red';
                        return false;
                    } else {
                        errorMessage.textContent = ''; // Clear error if passwords match
                        return true;
                    }
                }

                // Handle form submission
                form.addEventListener('submit', (event) => {
                    event.preventDefault();

                    // First, validate the passwords
                    if (!validatePasswordMatch()) {
                        return; // Stop form submission if passwords don't match
                    }

                    // Collect form data
                    const formData = Object.fromEntries(new FormData(form));

                    // Save data to local storage
                    localStorage.setItem('registrationData', JSON.stringify(formData));

                    // Display success message and redirect
                    alert('Registration successful!');
                    window.location.href = "profile.html"; // Redirect after successful registration
                });

                // Optional: Add validation for password on input change
                passwordField.addEventListener('input', validatePasswordMatch);
                confirmPasswordField.addEventListener('input', validatePasswordMatch);
            });
        </script>
    </head>
        <main class="container" style="justify-content: center; margin-top: 150px;">
            <ul class="items-list">
            <h2>Sign up</h2>
            <form id="multiStepForm">
                <div id="step1" class="form-step">
                    <input type="text" name="name" required placeholder="Full Name">
                    <div class="error-message"></div>
                
                    <input type="email" name="email" required placeholder="Email">
                    <div class="error-message"></div>
                
                    <input type="text" name="phone" required placeholder="Phone Number">
                    <div class="error-message"></div>
                
                    <div id="loginPrompt" style="margin-top: 10px; display: none;">
                        <p>Already have an account? <button id="loginButton" type="button" style="color: blue; background: none; border: none; cursor: pointer;">Log in</button></p>
                    </div>
                </div>
                
                <div id="step2" class="form-step" style="display: none;">
                    <textarea name="city" id="city" required placeholder="City"></textarea>
                    <div class="error-message"></div>

                    <textarea name="address" required placeholder="Address"></textarea>
                    <div class="error-message"></div>
                </div>
        
                <div class="form-step">
                    <h3>Step 3: Enter your Payment Information</h3>
                    <label for="creditCard">Credit Card:</label>
                    <input type="text" id="creditCard" name="creditCard" required>
                    <label for="expiry">Expiry Date:</label>
                    <input type="text" id="expiry" name="expiry" required>
                </div>

                <div class="form-step">
                    <h3>Step 4: Password</h3>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
        
                    <!-- Confirm Password Input -->
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password:</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" required>
                    </div>

                    <div id="error-message" class="error-message"></div>
                </div>

                <!-- Submit Button -->
                <div class="form-navigation">
                    <button type="button" id="prevBtn" class="btn btn-secondary" disabled>Back</button>
                    <button type="button" id="nextBtn" class="btn btn-primary">Next</button>
                </div>
        
                <button type="submit" id="submitBtn" class="btn btn-success" style="display: none;">Sign up</button>
            </ul>
            </form>
        </main>
        <!-- Footer -->
        <footer class="footer text-white">
            <nav>
                <ul class="footer-list d-flex">
                    <li class="footer-item logo"><a href="main_page.html" class="text-white">ZD Aura</a></li>
                    <li class="footer-first-item"><a href="https://www.instagram.com/" class="text-white">Instagram</a></li>
                    <li class="footer-item"><a href="https://x.com/?lang=ru" class="text-white">Twitter</a></li>
                    <li class="footer-item"><a href="https://web.telegram.org/k/#@mirsjex" class="text-white">Telegram</a></li>
                </ul>
            </nav>
            <div style="margin-top:4% ;" id="date-time"></div>
            <p class="footer-credits text-right pr-3">Abdimanap Dias<br>Turgimbayev Amirkhan<br>Zhetpissov Zhandarbek</p>
        </footer>
    </div>
    <script src="script_music.js"></script>
    <script src="script_theme.js"></script>
    <script src="script_time.js"></script>
    <script src="script_register.js"></script>
    <script src="search.js"></script>

    <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
